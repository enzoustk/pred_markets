<div class="container">
    <div class="header">
        <h1>Todas as Apostas: {{tag_name}}</h1>
        <div class="nav-links">
            <a href="{{safe_filename}}">‚Üê Voltar ao Detalhe</a>
            <a href="../tags.html">‚Üê Ver Todas as Tags</a>
            <a href="../index.html">‚Üê P√°gina Inicial</a>
        </div>
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Total de Apostas</div>
                <div class="stat-value neutral">{{total_bets}}</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Profit Total</div>
                <div class="stat-value {{profit_class}}">{{total_profit}}</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Volume Total</div>
                <div class="stat-value neutral">{{total_volume}}</div>
            </div>
        </div>
    </div>
    
    <div class="table-container">
        <div class="column-controls">
            <div class="filter-controls">
                <button id="toggle-columns-btn" class="toggle-columns-btn">üìã Mostrar/Ocultar Colunas</button>
                <button id="toggle-filters-btn" class="toggle-filters-btn">üîç Filtrar<span id="filter-badge" class="filter-active-badge" style="display: none;">0</span></button>
            </div>
            <div class="pagination-controls">
                <label for="items-per-page">Itens por p√°gina:</label>
                <select id="items-per-page">
                    <option value="25">25</option>
                    <option value="50" selected>50</option>
                    <option value="100">100</option>
                </select>
                <div class="pagination-nav">
                    <button id="prev-page-btn" class="pagination-btn">‚Äπ</button>
                    <span id="page-info" class="pagination-info">P√°gina 1</span>
                    <button id="next-page-btn" class="pagination-btn">‚Ä∫</button>
                </div>
            </div>
        </div>
        
        <div class="table-wrapper">
            <table id="trades-table">
                <thead>
                    <tr>
                        {{table_headers}}
                    </tr>
                </thead>
                <tbody>
                    {{table_rows}}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Modal para filtros -->
<div id="filter-modal" class="column-modal">
    <div class="column-modal-content">
        <div class="column-modal-header">
            <h3>Filtrar Tabela</h3>
            <button class="close-modal" id="close-filter-modal-btn">&times;</button>
        </div>
        <div class="filter-groups-container" style="max-height: 60vh; overflow-y: auto;">
            <!-- Filtro de start_time -->
            <div class="filter-row">
                <label>start_time:</label>
                <div class="filter-inputs">
                    <input type="datetime-local" id="filter-start_time-min" placeholder="De">
                    <span>at√©</span>
                    <input type="datetime-local" id="filter-start_time-max" placeholder="At√©">
                </div>
            </div>
            <!-- Filtro de totalBought -->
            <div class="filter-row">
                <label>totalBought:</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-totalBought-min" placeholder="M√≠nimo" step="0.01">
                    <span>at√©</span>
                    <input type="number" id="filter-totalBought-max" placeholder="M√°ximo" step="0.01">
                </div>
            </div>
            <!-- Filtro de avgPrice -->
            <div class="filter-row">
                <label>avgPrice:</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-avgPrice-min" placeholder="M√≠nimo" step="0.0001">
                    <span>at√©</span>
                    <input type="number" id="filter-avgPrice-max" placeholder="M√°ximo" step="0.0001">
                </div>
            </div>
            <!-- Filtro de realizedPnl -->
            <div class="filter-row">
                <label>realizedPnl:</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-realizedPnl-min" placeholder="M√≠nimo" step="0.01">
                    <span>at√©</span>
                    <input type="number" id="filter-realizedPnl-max" placeholder="M√°ximo" step="0.01">
                </div>
            </div>
            <!-- Filtro de staked -->
            <div class="filter-row">
                <label>staked:</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-staked-min" placeholder="M√≠nimo" step="0.01">
                    <span>at√©</span>
                    <input type="number" id="filter-staked-max" placeholder="M√°ximo" step="0.01">
                </div>
            </div>
            <!-- Filtro de total_profit -->
            <div class="filter-row">
                <label>total_profit:</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-total_profit-min" placeholder="M√≠nimo" step="0.01">
                    <span>at√©</span>
                    <input type="number" id="filter-total_profit-max" placeholder="M√°ximo" step="0.01">
                </div>
            </div>
            <!-- Filtro de roi -->
            <div class="filter-row">
                <label>roi (%):</label>
                <div class="filter-inputs">
                    <input type="number" id="filter-roi-min" placeholder="M√≠nimo (%)" step="0.01">
                    <span>at√©</span>
                    <input type="number" id="filter-roi-max" placeholder="M√°ximo (%)" step="0.01">
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button class="modal-btn select-all" id="clear-filters-btn">Limpar Filtros</button>
            <button class="modal-btn apply" id="apply-filters-btn">Aplicar Filtros</button>
        </div>
    </div>
</div>

<!-- Modal para sele√ß√£o de colunas -->
<div id="column-modal" class="column-modal">
    <div class="column-modal-content">
        <div class="column-modal-header">
            <h3>Mostrar/Ocultar Colunas</h3>
            <button class="close-modal" id="close-modal-btn">&times;</button>
        </div>
        <div class="column-checkboxes" id="column-checkboxes">
            {{column_checkboxes}}
        </div>
        <div class="modal-actions">
            <button class="modal-btn select-all" id="select-all-btn">Marcar Todas</button>
            <button class="modal-btn select-all" id="deselect-all-btn">Desmarcar Todas</button>
            <button class="modal-btn apply" id="apply-columns-btn">Aplicar</button>
        </div>
    </div>
</div>

{{column_modal_js}}

<script>
    {{table_js}}
</script>



